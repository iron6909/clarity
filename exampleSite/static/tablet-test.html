<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tablet Layout Test - Clarity Theme</title>
  <style>
    /* Import Clarity CSS */
    @import url(/css/style.css);

    /* Test-specific styles */
    .test-info {
      position: fixed;
      top: 10px;
      right: 10px;
      background: #2563EB;
      color: white;
      padding: 10px 15px;
      border-radius: 4px;
      font-size: 12px;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    .test-info span {
      display: block;
      margin: 2px 0;
    }
    .test-pass {
      color: #4ade80;
    }
    .test-fail {
      color: #f87171;
    }
    .debug-box {
      border: 2px dashed #2563EB;
      background: rgba(37, 99, 235, 0.05);
      padding: 8px;
      margin: 4px 0;
    }
    .debug-box::before {
      content: attr(data-class);
      display: block;
      font-size: 10px;
      color: #2563EB;
      font-weight: bold;
      margin-bottom: 4px;
    }
  </style>
</head>
<body>
  <div class="test-info">
    <span>Viewport: <strong id="viewport">---</strong></span>
    <span>.primary width: <strong id="primary-width">---</strong></span>
    <span>.post--with-sidebar: <strong id="post-width">---</strong></span>
    <span>Expected: 100% / ~671px</span>
  </div>

  <div class="container container--outer">
    <div class="wrapper">
      <div class="flex">
        <main class="primary">
          <div class="debug-box" data-class=".primary">
            <div class="post__header">
              <h1 class="post__title">Tablet Layout Test</h1>
            </div>

            <div class="post-container">
              <article class="post--with-sidebar">
                <div class="debug-box" data-class=".post--with-sidebar">
                  <div class="post__content content">
                    <h2>Content Overflow Test</h2>
                    <p>This test page validates the responsive layout fix for tablet devices (768px - 1023px).</p>

                    <h3>Test Case 1: Long Code Line</h3>
                    <p>The following code block contains a very long line that should NOT overflow the container:</p>
                    <pre><code>const extremelyLongVariableNameThatShouldCauseOverflowInTabletLayout = function(withVeryLongParameterNames, andAnotherLongParameter, andYetAnotherParameterForTesting) { return true; };</code></pre>

                    <h3>Test Case 2: HTML Document</h3>
                    <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Example HTML5 Document with a moderately long title that might wrap&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;Test&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>

                    <h3>Test Case 3: Inline Code</h3>
                    <p>This is a paragraph with <code>veryLongFunctionName(withMultiple, parameters, that, might, overflow)</code> inline code that should wrap properly.</p>

                    <h3>Test Case 4: Table</h3>
                    <table>
                      <thead>
                        <tr>
                          <th>ID</th>
                          <th>Make</th>
                          <th>Model</th>
                          <th>Year</th>
                          <th>Additional Column</th>
                          <th>Even More Columns</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td>1</td>
                          <td>Honda</td>
                          <td>Accord</td>
                          <td>2009</td>
                          <td>Extra data</td>
                          <td>More data</td>
                        </tr>
                        <tr>
                          <td>2</td>
                          <td>Toyota</td>
                          <td>Camry</td>
                          <td>2012</td>
                          <td>Extra data</td>
                          <td>More data</td>
                        </tr>
                      </tbody>
                    </table>

                    <h3>Test Case 5: URL</h3>
                    <p>Long URL: https://example.com/very/long/path/that/should/definitely/wrap/on/tablet/devices/because/it/is/way/too/long?param1=value1&amp;param2=value2</p>
                  </div>
                </div>
              </article>

              <aside class="post__toc-sidebar">
                <div class="debug-box" data-class=".post__toc-sidebar">
                  <div class="toc toc--sticky">
                    <div class="toc__title">Table of Contents</div>
                    <div class="toc__menu">
                      <nav>
                        <ul>
                          <li><a href="#content-overflow-test">Content Overflow Test</a></li>
                        </ul>
                      </nav>
                    </div>
                  </div>
                </div>
              </aside>
            </div>
          </div>
        </main>

        <aside class="sidebar">
          <div class="debug-box" data-class=".sidebar">
            <div class="widget">
              <h3 class="widget__title">Sidebar Widget</h3>
              <p>This sidebar should be hidden on tablets.</p>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script>
    function updateTestInfo() {
      const viewport = document.getElementById('viewport');
      const primaryWidth = document.getElementById('primary-width');
      const postWidth = document.getElementById('post-width');

      const width = window.innerWidth;
      viewport.textContent = `${width}px`;

      const primary = document.querySelector('.primary');
      const post = document.querySelector('.post--with-sidebar');

      if (primary && post) {
        const primaryW = primary.getBoundingClientRect().width;
        const postW = post.getBoundingClientRect().width;

        primaryWidth.textContent = `${Math.round(primaryW)}px`;
        postWidth.textContent = `${Math.round(postW)}px`;

        // Expected: ~671px on iPad (768px - 64px padding = 704px, minus margins)
        const expectedWidth = width - 64; // 32px padding on each side
        const isPass = Math.abs(primaryW - expectedWidth) < 10;

        primaryWidth.className = isPass ? 'test-pass' : 'test-fail';
        postWidth.className = isPass ? 'test-pass' : 'test-fail';
      }
    }

    window.addEventListener('resize', updateTestInfo);
    window.addEventListener('load', updateTestInfo);
    updateTestInfo();
  </script>
</body>
</html>
